pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

function _init()
    t=0
    rings=0
end
function _update()
    t+=1
    if(t>200 and rings>=0)then rings-=1 
    elseif(rings<30 and t>10)then rings+=1 end
end
function _draw()
    if(rings>=30 or t>200)then cls(flr(t*0.5)%7+8)
    else cls()
    end
    if(t>200 and rings<1)then draw_plasma() end
    for i=rings,1,-1 do
        local sx = cos(7+t*0.01)
        local sy = sin(7+t*0.01)*cos(7+t*0.01)
        poke(0x5f34,0x2)
    	circfill(64+sx*i,64+sy*i,200/i,flr(t*0.33+i)%7+8 | 0x1800)
    end
    -- cls(flr(t*0.1)%7+8)
    -- print(t,0,0,0)
end
function draw_plasma()
	for y=16,111,1 do
		for x=16,111,1 do
			c=(
				16+(16*sin(x*0.016-t))+
				16+(16*sin(y*0.008-t))+
				16+(16*sin((x%2+y%2)*0.016-t))+
				16+(16*sin(sqrt(x*x+y*y-t)*0.008))
			)*0.25
			pset(x,y,(c+t)%6+8)
		end
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
