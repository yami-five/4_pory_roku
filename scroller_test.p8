pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include px9_dec.p8
function sky()
    fillp(-24416)
    rectfill(0,0,128,4,7+12*16)
    fillp(-23391)
    rectfill(0,4,128,9,7+12*16)
    fillp(-23131)
    rectfill(0,9,128,14,7+12*16)
    fillp(21080)
    rectfill(0,14,128,19,12+7*16)
    fillp(20560)
    rectfill(0,19,128,24,12+7*16)
    fillp(4160)
    rectfill(0,24,128,29,12+7*16)
    fillp()
    rectfill(0,29,128,50,12)
    fillp(4160)
    rectfill(0,50,128,128,12+13*16)
end

function _init()
    pal(2,132,1)
    pal(7,140,1)
    pal(8,128,1)
    pal(11,138,1)
    pal(13,14,1)
    pal(14,139,1)
    pal(15,134,1)
	reload(0xe000,0x0000,0x2000,"background_gfx.p8") 
    t=0x0
    img1=0x8000
    img2=0xa000
    px9_decomp(0,0,0xe600,sget,sset) 
    memcpy(0xa000,0x0000,0x2000)
    px9_decomp(0,0,0xe000,sget,sset) 
    memcpy(0x8000,0x0000,0x2000)
end
function _update()
    for i=1,128,1 do
        memcpy(0x0000+(0x40*(i-1+1)),img1+t+(0x40*(i-1+1)),0x40-t)
        memcpy(0x0040-t+(0x40*(i-1+1)),img2+(0x40*(i-1+1)),t)
        if(t==0x40)then 
            t=0x0 
            if(img1==0x8000)then
                img1=0xa000
                img2=0x8000
            else
                img2=0xa000
                img1=0x8000
            end
        end
    end
    t+=0x1
end
function _draw()
    cls()
    sky()
    spr(0,0,0,16,16)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
